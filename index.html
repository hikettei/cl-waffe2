<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="None" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>cl-waffe2 Documentation</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> cl-waffe2 Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#workloads">Workloads</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#concepts">Concepts</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#whats-next">What's next?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#benchmarks">Benchmarks</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#contribute">Contribute</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#acknowledgments">Acknowledgments</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#licence">LICENCE</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="install/">Install</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="overview/">Tutorials</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="Tips/">Tips</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="utils/">cl-waffe2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="nodes/">cl-waffe2/vm.nodes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="generic-tensor/">cl-waffe2/vm.generic-tensor</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="base-impl/">[Functions] cl-waffe2/base-impl</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="base-impl-nodes/">[Nodes] cl-waffe2/base-impl</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="distributions/">cl-waffe2/distributions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="nn/">cl-waffe2/nn</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="optimizer/">cl-waffe2/optimizers</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="lisp-tensor-backend/">cl-waffe2/backends.lisp</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="cpu-tensor-backend/">cl-waffe2/backends.cpu</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="cpu-jit-tensor-backend/">cl-waffe2/backends.jit.cpu</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">cl-waffe2 Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>Home</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1"></h1>
<p align="center">
    <a href="https://github.com/hikettei/cl-waffe2">
        <img alt="Logo" src="https://hikettei.github.io/cl-waffe-docs/cl-waffe.png" width="45%">
    </a>
    <br>
    <h3 align="center">Programmable Deep Learning Framework</h3>
    <p align="center">
    <a href="https://github.com/hikettei/cl-waffe2"><strong>Repository »</strong></a>
    <br />
    <br />
    <a href="https://github.com/hikettei/cl-waffe2/issues">Issues</a>
    ·
    <a href="./install">Installing</a>
    ·
    <a href="./overview">Tutorials</a>
  </p>
</p>

<p><a href="https://github.com/hikettei/cl-waffe2/actions/workflows/Cl.yml"><img alt="CI" src="https://github.com/hikettei/cl-waffe2/actions/workflows/Cl.yml/badge.svg?branch=master" /></a></p>
<h2 id="introduction">Introduction</h2>
<blockquote>
<p><strong>⚠️ cl-waffe2 is still in the concept stage and has a limited feature. Also, things are subject to change. DO NOT USE CL-WAFFE2 IN YOUR PRODUCT.</strong></p>
</blockquote>
<p>cl-waffe2 is an experimental Deep Learning Framework working on Common Lisp which dynamically compiles Optimal Common Lisp codes generated from the portable and user-extensible APIs in runtime.
As a future goal, I'm working on JIT compilation to C++/CUDA, and providing a framework dedicated to solving optimizing/inferencing deep neural network models using AD, all in Common Lisp. This framework is decoupled from other existing libraries by design, but interoperating with other libraries by efficient use of other libraries via with-facet macros and Common Lisp standard arrays is strongly recommended. I'm just focusing on efficient AD.</p>
<p>Every operation in cl-waffe2 is lazy evaluated and later compiled, and there are two key functions to compile and execute nodes: <code>proceed</code> and <code>build</code>. With the <code>proceed</code> function, cl-waffe2 works as if it is an interpreter, with no compiling overhead in runtime, and it is differentiable.  On the other hand the function <code>build</code> will generate codes which are fully optimized for training models.</p>
<p>Portability to other devices is a major concern. In particular, cl-waffe2 is designed to put as few barriers between the user and the developer as possible.</p>
<h3 id="workloads">Workloads</h3>
<ul>
<li>
<p>[x] Establish a baseline for generic matrix operations from zero for Common Lisp, as practised by Julia.</p>
<ul>
<li>Four data structures used in deep learning: <code>AbstractNode</code> <code>AbstractTensor</code> <code>AbstractOptimizer</code>, and <code>AbstractTrainer</code>.</li>
<li>Fundamental APIs: <code>View API/Broadcasting/Permution</code> <code>NDArrays with multidimensonal offsets</code> <code>build/proceed</code> <code>facet of tensors</code></li>
<li>Graph-level optimization of computation nodes. (pruning unused nodes/in-place mutation/inlining view computations)</li>
<li>For experiments, implement a backend that runs at minimum speed: <code>LispTensor</code>.</li>
</ul>
</li>
<li>
<p>[ ] Construct JIT Compiler from cl-waffe2 to <code>C++</code>. and fuse operations and loops.</p>
</li>
<li>
<p>[ ] Add basic computation nodes for controling nodes: <code>MapNode</code> <code>IfNode</code> etc...</p>
</li>
</ul>
<h3 id="concepts">Concepts</h3>
<p>This project has been developed on these primal concepts:</p>
<ol>
<li>
<p><code>Do not run until the node is optimized.</code>, that is, Lazy-Evaluation first.</p>
</li>
<li>
<p>Generic operations powered by multiple kinds of user-defined backends.</p>
</li>
<li>
<p>defined-and-run, closer to defined-by-run APIs.</p>
</li>
</ol>
<p><strong>Everything in this documentation is still incomplete! I guess should be much more polished!</strong></p>
<h2 id="whats-next">What's next?</h2>
<ol>
<li>
<p><a href="./install">Installing cl-waffe2</a></p>
</li>
<li>
<p><a href="./overview">Learn the concepts with practical tutorials</a></p>
</li>
<li>
<p><a href="./examples">Visit some examples! (Not yet ready...)</a></p>
</li>
</ol>
<h2 id="benchmarks">Benchmarks</h2>
<pre><code>Coming soon ...
</code></pre>
<h2 id="contribute">Contribute</h2>
<pre><code>Coming soon ...
</code></pre>
<h2 id="acknowledgments">Acknowledgments</h2>
<pre><code>Coming soon...
</code></pre>
<h2 id="licence">LICENCE</h2>
<pre><code>Coming soon...
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="install/" class="btn btn-neutral float-right" title="Install">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="install/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.4.3
Build Date UTC : 2023-08-05 08:25:40.809284+00:00
-->
